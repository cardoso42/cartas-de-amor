@startuml StartGame

actor "Host Player" as Host
participant "Frontend" as FE
participant "Backend" as API
database "Database" as DB

Host -> FE: Start game
activate FE
FE -> API: SignalR: StartGame(roomId)
activate API
API -> DB: Get game from repository
activate DB
DB --> API: Game data
deactivate DB
alt Not enough players
    API --> FE: SignalR: GameStartError event
    FE --> Host: "At least 2 players are required"
else Not host
    API --> FE: SignalR: GameStartError event
    FE --> Host: "Only the host can start the game"
else Can start
    API -> API: Configure game\n(shuffle deck, deal cards)
    API -> API: Start new round\n(set current player index)
    API -> DB: Update game state
    activate DB
    DB --> API: Game updated
    deactivate DB
    
    API -> API: SendGameStatusDtos\n(for each player)
    API --> FE: SignalR: RoundStarted event
    FE --> Host: Game started successfully
end
deactivate API
deactivate FE

@enduml
